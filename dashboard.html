<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>E-commerce KPIs (No-install Dashboard)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
  <style>
    body { font-family: system-ui, sans-serif; margin: 24px; }
    .cards { display: grid; grid-template-columns: repeat(4, minmax(180px,1fr)); gap: 12px; margin-bottom: 20px; }
    .card { padding: 16px; border: 1px solid #ddd; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); }
    .label { color: #555; font-size: 12px; text-transform: uppercase; letter-spacing: .04em; }
    .value { font-size: 22px; margin-top: 6px; }
    .section { margin-top: 28px; }
    canvas { max-height: 360px; }
    .note { color:#666; font-size: 12px; }
  </style>
</head>
<body>
  <h2>E-commerce KPIs (last 90 days unless noted)</h2>

  <div class="cards">
    <div class="card"><div class="label">Revenue (completed)</div><div class="value">€146,890.22</div></div>
    <div class="card"><div class="label">Completed Orders</div><div class="value">594</div></div>
    <div class="card"><div class="label">AOV</div><div class="value">€247.29</div></div>
    <div class="card"><div class="label">Refund Rate</div><div class="value">5.7%</div></div>
  </div>

  <div class="section"><h3>Revenue Trend (completed)</h3><canvas id="rev"></canvas></div>
  <div class="section"><h3>Channel Mix (% of completed orders)</h3><canvas id="chan"></canvas></div>
  <div class="section"><h3>AOV by Device (latest year YTD)</h3><canvas id="aov"></canvas></div>
  <div class="section"><h3>Refund Rate by Day</h3><canvas id="rr"></canvas></div>

  <p class="note">Trend/mix/refund window: last 90 days from latest completed order date (2025-09-16).</p>

<script>
const daily = [["2025-06-19", 1880.66], ["2025-06-20", 1895.53], ["2025-06-21", 3168.59], ["2025-06-22", 2388.69], ["2025-06-23", 778.77], ["2025-06-24", 1031.3], ["2025-06-25", 673.72], ["2025-06-26", 977.55], ["2025-06-27", 827.75], ["2025-06-28", 1749.7], ["2025-06-29", 2425.84], ["2025-06-30", 3507.28], ["2025-07-01", 1974.91], ["2025-07-02", 1051.14], ["2025-07-03", 1348.52], ["2025-07-04", 645.58], ["2025-07-05", 2482.53], ["2025-07-06", 327.79], ["2025-07-07", 1345.85], ["2025-07-08", 955.21], ["2025-07-09", 3760.57], ["2025-07-10", 2929.9], ["2025-07-11", 1075.06], ["2025-07-12", 966.71], ["2025-07-13", 637.15], ["2025-07-14", 431.9], ["2025-07-15", 1935.57], ["2025-07-16", 2430.83], ["2025-07-17", 1145.87], ["2025-07-18", 951.02], ["2025-07-19", 1289.14], ["2025-07-20", 2073.17], ["2025-07-21", 2647.39], ["2025-07-22", 2838.95], ["2025-07-23", 2800.8], ["2025-07-24", 1439.97], ["2025-07-25", 2162.13], ["2025-07-26", 507.95], ["2025-07-27", 1866.25], ["2025-07-28", 3546.11], ["2025-07-29", 958.33], ["2025-07-30", 1146.91], ["2025-07-31", 506.38], ["2025-08-01", 67.05], ["2025-08-02", 1496.79], ["2025-08-03", 576.07], ["2025-08-04", 2448.94], ["2025-08-05", 1259.82], ["2025-08-06", 478.91], ["2025-08-07", 3165.93], ["2025-08-08", 481.62], ["2025-08-09", 1549.57], ["2025-08-10", 1820.84], ["2025-08-11", 1781.53], ["2025-08-12", 1192.58], ["2025-08-13", 1586.84], ["2025-08-14", 3140.64], ["2025-08-15", 2213.05], ["2025-08-16", 826.11], ["2025-08-17", 798.84], ["2025-08-18", 3105.37], ["2025-08-19", 453.77], ["2025-08-20", 1108.6], ["2025-08-21", 2087.53], ["2025-08-22", 2971.19], ["2025-08-23", 3028.47], ["2025-08-24", 1272.4], ["2025-08-25", 1306.59], ["2025-08-26", 770.67], ["2025-08-27", 2244.93], ["2025-08-28", 2153.48], ["2025-08-29", 1620.66], ["2025-08-30", 2012.62], ["2025-08-31", 1138.4], ["2025-09-01", 1110.8], ["2025-09-02", 669.04], ["2025-09-03", 1934.98], ["2025-09-04", 1368.91], ["2025-09-05", 3189.39], ["2025-09-06", 421.16], ["2025-09-07", 1445.25], ["2025-09-08", 224.99], ["2025-09-09", 1615.02], ["2025-09-10", 1450.39], ["2025-09-11", 2779.49], ["2025-09-12", 2275.64], ["2025-09-13", 1967.82], ["2025-09-14", 1578.53], ["2025-09-15", 981.54], ["2025-09-16", 2232.49]];
const rr    = [["2025-06-19", 0.14285714285714285], ["2025-06-20", 0.0], ["2025-06-21", 0.0], ["2025-06-22", 0.0], ["2025-06-23", 0.0], ["2025-06-24", 0.16666666666666666], ["2025-06-25", 0.0], ["2025-06-26", 0.16666666666666666], ["2025-06-27", 0.0], ["2025-06-28", 0.0], ["2025-06-29", 0.0], ["2025-06-30", 0.0], ["2025-07-01", 0.0], ["2025-07-02", 0.0], ["2025-07-03", 0.0], ["2025-07-04", 0.25], ["2025-07-05", 0.0], ["2025-07-06", 0.16666666666666666], ["2025-07-07", 0.2], ["2025-07-08", 0.125], ["2025-07-09", 0.0], ["2025-07-10", 0.0], ["2025-07-11", 0.0], ["2025-07-12", 0.0], ["2025-07-13", 0.0], ["2025-07-14", 0.0], ["2025-07-15", 0.0], ["2025-07-16", 0.0], ["2025-07-17", 0.0], ["2025-07-18", 0.16666666666666666], ["2025-07-19", 0.0], ["2025-07-20", 0.125], ["2025-07-21", 0.0], ["2025-07-22", 0.1], ["2025-07-23", 0.0], ["2025-07-24", 0.0], ["2025-07-25", 0.1], ["2025-07-26", 0.0], ["2025-07-27", 0.1111111111111111], ["2025-07-28", 0.0], ["2025-07-29", 0.0], ["2025-07-30", 0.125], ["2025-07-31", 0.0], ["2025-08-01", 0.6], ["2025-08-02", 0.1111111111111111], ["2025-08-03", 0.0], ["2025-08-04", 0.0], ["2025-08-05", 0.125], ["2025-08-06", 0.0], ["2025-08-07", 0.16666666666666666], ["2025-08-08", 0.0], ["2025-08-09", 0.0], ["2025-08-10", 0.0], ["2025-08-11", 0.0], ["2025-08-12", 0.0], ["2025-08-13", 0.16666666666666666], ["2025-08-14", 0.11764705882352941], ["2025-08-15", 0.07692307692307693], ["2025-08-16", 0.0], ["2025-08-17", 0.0], ["2025-08-18", 0.0], ["2025-08-19", 0.0], ["2025-08-20", 0.0], ["2025-08-21", 0.2222222222222222], ["2025-08-22", 0.16666666666666666], ["2025-08-23", 0.0], ["2025-08-24", 0.0], ["2025-08-25", 0.16666666666666666], ["2025-08-26", 0.0], ["2025-08-27", 0.0], ["2025-08-28", 0.0], ["2025-08-29", 0.0], ["2025-08-30", 0.2222222222222222], ["2025-08-31", 0.0], ["2025-09-01", 0.0], ["2025-09-02", 0.25], ["2025-09-03", 0.0], ["2025-09-04", 0.0], ["2025-09-05", 0.0], ["2025-09-06", 0.0], ["2025-09-07", 0.0], ["2025-09-08", 0.3333333333333333], ["2025-09-09", 0.0], ["2025-09-10", 0.0], ["2025-09-11", 0.07692307692307693], ["2025-09-12", 0.0], ["2025-09-13", 0.0], ["2025-09-14", 0.0], ["2025-09-15", 0.16666666666666666], ["2025-09-16", 0.14285714285714285]];
const chan  = [["Organic", 231], ["Paid", 134], ["Direct", 121], ["Email", 55], ["Referral", 53]];
const aov   = [["Tablet", 99, 248.26], ["Desktop", 928, 243.83], ["Mobile", 639, 241.54]];

function toLV(pairs) { return { labels: pairs.map(p => p[0]), values: pairs.map(p => p[1]) }; }

const rev = toLV(daily);
new Chart(document.getElementById('rev'), {
  type: 'line',
  data: { labels: rev.labels, datasets: [{ label: 'Revenue (€)', data: rev.values }] },
  options: { responsive: true, scales: { y: { beginAtZero: true } } }
});

const chLabels = chan.map(x => x[0]);
const chValues = chan.map(x => x[1]);
new Chart(document.getElementById('chan'), {
  type: 'bar',
  data: { labels: chLabels, datasets: [{ label:'% of completed orders',
           data: chValues.map(v => v / chValues.reduce((a,b)=>a+b,0) * 100) }] },
  options: { indexAxis:'y', scales: { x: { ticks: { callback: v => v + '%' } } } }
});

const aLabels = aov.map(x => x[0]);
const aValues = aov.map(x => x[2]);
new Chart(document.getElementById('aov'), {
  type: 'bar',
  data: { labels: aLabels, datasets: [{ label:'AOV (€)', data: aValues }] },
  options: { scales: { y: { beginAtZero: true } } }
});

const rrLV = toLV(rr);
new Chart(document.getElementById('rr'), {
  type: 'line',
  data: { labels: rrLV.labels, datasets: [{ label:'Refund rate', data: rrLV.values }] },
  options: { scales: { y: { min:0, max:1, ticks: { callback: v => (v*100).toFixed(0)+'%' } } } }
});
</script>
</body></html>
